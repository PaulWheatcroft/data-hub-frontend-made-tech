{% extends "./_layout.njk" %}

{% block body_main_content %}
  <h2 class="page-heading">Entity search</h2>

  {% call Example('Simple') %}
    {{ EntitySearchForm(macros.entitySearchForm) }}
  {% endcall %}

  {% call Example('Global') %}
    {{ EntitySearchForm(macros.entitySearchFormGlobal) }}
  {% endcall %}

  <h2 class="page-heading">Standard</h2>
  {% call Example('Normal size') %}
    {{ Form(macros.standardForm) }}
  {% endcall %}

  {% call Example('Small size') %}
    {% call Form(form) %}
      {{ TextField({
        name: 'name-small',
        label: 'Company name',
        placeholder: 'e.g. Hooli',
        error: form.errors.messages.name,
        value: form.state.name,
        modifier: 'small'
      }) }}

      {{ MultipleChoiceField({
          type: 'checkbox',
          name: 'strategicDrivers-small',
          label: 'Strategic drivers',
          options: form.options.strategicDrivers,
          selected: form.state.strategicDrivers,
          modifier: 'small'
        })
      }}

      {{ MultipleChoiceField({
          type: 'radio',
          name: 'averageSalary-small',
          label: 'Average salary range',
          options: form.options.averageSalaryRange,
          error: form.errors.messages.averageSalary,
          selected: form.state.averageSalary,
          modifier: 'small'
        })
      }}
    {% endcall %}
  {% endcall %}

  {% call Example('Light version') %}
    <p>
      {{ EntitySearchForm({
        inputName: 'term-light',
        inputLabel: 'Search for a company name or contact',
        inputPlaceholder: '',
        searchTerm: entitySearch.searchTermLight,
        isLabelHidden: false,
        fieldModifier: 'light'
      }) }}
    </p>

    {% call Form(form) %}
      {{ TextField({
        name: 'name-small',
        label: 'Company name',
        placeholder: 'e.g. Hooli',
        error: form.errors.messages.name,
        value: form.state.name,
        modifier: 'light'
      }) }}

      {{ MultipleChoiceField({
          type: 'radio',
          name: 'gender',
          label: 'Gender',
          initialOption: 'Unspecified',
          options: [
            { label: 'Male' },
            { label: 'Female' }
          ],
          selected: form.state.gender,
          modifier: 'light'
        })
      }}

      {{ MultipleChoiceField({
          type: 'checkbox',
          name: 'filterBy',
          label: 'Filter by',
          options: [
            { label: 'Quality' },
            { label: 'Quanitity' }
          ],
          selected: form.state.filterBy,
          modifier: 'light'
        })
      }}

      {{ MultipleChoiceField({
          name: 'averageSalary-light',
          label: 'Average salary range',
          options: form.options.averageSalaryRange,
          error: form.errors.messages.averageSalaryLight,
          selected: form.state.averageSalaryLight,
          modifier: 'light'
        })
      }}
    {% endcall %}
  {% endcall %}

  {% call Example('Compact version') %}
    {% call Form(form) %}
      {{ TextField({
        name: 'name-small',
        label: 'Company name',
        placeholder: 'e.g. Hooli',
        error: form.errors.messages.name,
        value: form.state.name,
        modifier: 'compact'
      }) }}

      {{ MultipleChoiceField({
          type: 'radio',
          name: 'gender',
          label: 'Gender',
          initialOption: 'Unspecified',
          options: [
            { label: 'Male' },
            { label: 'Female' }
          ],
          selected: form.state.gender,
          modifier: 'compact'
      }) }}

      {{ MultipleChoiceField({
          name: 'averageSalary-light',
          label: 'Average salary range',
          options: form.options.averageSalaryRange,
          error: form.errors.messages.averageSalaryLight,
          selected: form.state.averageSalaryLight,
          modifier: 'compact'
      }) }}
    {% endcall %}
  {% endcall %}

  {% call Example('Fields with actions') %}
    {% set removeButton %}
      <button class="button button--link c-form-group__action">Remove</button>
    {% endset %}

    {% call Form(form) %}
      {{ MultipleChoiceField({
        name: 'averageSalary-light',
        label: 'Average salary range',
        options: form.options.averageSalaryRange,
        error: form.errors.messages.averageSalaryLight,
        selected: form.state.averageSalaryLight,
        innerContent: removeButton
      }) }}

      {{ MultipleChoiceField({
        name: 'averageSalary-light',
        label: 'Average salary range',
        options: form.options.averageSalaryRange,
        error: form.errors.messages.averageSalaryLight,
        selected: form.state.averageSalaryLight,
        innerContent: removeButton
      }) }}

      {{ TextField({
        name: 'name-small',
        label: 'Company name',
        placeholder: 'e.g. Hooli',
        error: form.errors.messages.name,
        value: form.state.name,
        innerContent: removeButton
      }) }}

      {{ TextField({
        name: 'name-small',
        label: 'Company name',
        placeholder: 'e.g. Hooli',
        error: form.errors.messages.name,
        value: form.state.name,
        innerContent: removeButton
      }) }}
    {% endcall %}
  {% endcall %}

{% endblock %}
